<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="clock"></div>
    <button>停止倒计时</button>
    <button>开始倒计时</button>
    <script>
        let time = null;
        window.onload = function countTime() {
            let clock = document.querySelector("#clock");
            var date = new Date();
            var now = date.getTime();
            var enddate = new Date("2022-10-20 19:00:00");
            var end = enddate.getTime();
            var differTime = end - now;
            var d, h, m, s;
            if (differTime >= 0) {
                d = Math.floor(differTime / 1000 / 60 / 60 / 24);
                h = Math.floor(differTime / 1000 / 60 / 60);
                m = Math.floor(differTime / 1000 / 60 % 60);
                s = Math.floor(differTime / 1000 % 60);
                d = d < 10 ? ("0" + d) : h;
                h = h < 10 ? ("0" + h) : h;
                m = m < 10 ? ("0" + m) : m;
                s = s < 10 ? ("0" + s) : s;
                // clock.innerHTML = "距离实训结束还有" + d + "天" + h + "时" + m + "分" + s + "秒";
                clock.innerHTML = `距离实训结束还有${d}天 ${h}时 ${m}分 ${s}秒`;
                time = setTimeout(countTime, 14);
            }
            else {
                clock.innerHTML = "实训结束";
            }

            let btn = document.querySelectorAll('button');
            btn[0].onclick = function () {
                clearInterval(time);
            }
            btn[1].onclick = function () {
                clearInterval(time);
                time = setTimeout(countTime, 14);
            }
        }




        // var date = new Date();
        // // 年
        // let y = date.getFullYear();
        // // 月
        // let m = date.getMonth() + 1;
        // // 日
        // let d = date.getDate();
        // // 星期
        // let day = date.getDay();
        // console.log(d);
        // window.onload 用于在网页加载完毕后立刻执行的操作，即当 HTML 文档加载完毕后，立刻执行某个方法。
// window.onload = function countTime() {
//     // 获取当前时间
//     var date = new Date();
//     var now = date.getTime();
//     // 设置截止时间
//     var endDate = new Date("2022-10-20 18:00:00");
//     var end = endDate.getTime();
//     // 时间差
//     var differTime = end - now;
//     // 定义变量，h，m，s保存倒计时时间
//     var h, m, s;
//     if (differTime >= 0) {
//         h = Math.floor(differTime / 1000 / 60 / 60);
//         m = Math.floor(differTime / 1000 / 60 % 60);
//         s = Math.floor(differTime / 1000 % 60);
//         h = h < 10 ? ("0" + h) : h;
//         m = m < 10 ? ("0" + m) : m;
//         s = s < 10 ? ("0" + s) : s;
//         // 倒计时赋值到div中
//         document.getElementById("_h").innerHTML = h + "";
//         document.getElementById("_m").innerHTML = m + "";
//         document.getElementById("_s").innerHTML = s + "";
//         // 递归每秒调用countTime方法，显示动态时间效果
//         setTimeout(countTime, 1000);
//     } else {
//         document.getElementById("_h").innerHTML = "00";
//         document.getElementById("_m").innerHTML = "00";
//         document.getElementById("_s").innerHTML = "00";
//     }
// }
    </script>
</body>

</html>